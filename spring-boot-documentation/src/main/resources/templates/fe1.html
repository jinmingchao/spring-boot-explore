<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>12321</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>

<script type="text/javascript" src="jquery-3.7.1.min.js"></script>
<body>
<div>
    <form method="post" id="fileform" enctype="multipart/form-data">
        <input type="file" name="doc">
        <input type="hidden" name="uid" value="1743172356235128834">
        <input type="hidden" name="pid" value="1743959905832955905">
    </form>

    <span style="font-size:20px;">上传文件</span>
    <button name="uploadDoc" onclick="uploadsubmit();">上传</button>
    <span style="font-size:20px;">下载文件</span>
    <button onclick="downloadFile('1743938053433663490')">下载</button>
    <span style="font-size:20px;">恢复到初始版本</span>
    <button onclick="recoverFile('1743959905832955905')">恢复</button>
</div>
<iframe style="display: none" name="uploadiframe"></iframe>
</body>
<script type="text/javascript">
    // 上传按钮提交。
    function uploadsubmit() {
        if ($("#doc").val() == "") {
            alert("请选择文件!")
            return;
        }
        $("#fileform").attr("target", "uploadiframe");
        $("#fileform").attr("action", "/documentation/upload");
        $("#fileform").submit();
    }

    function downloadFile(id) {
        $("#fileform").attr("target", "");
        $("#fileform").attr("action", "/documentation/download/" + id);
        $("#fileform").submit();
    }

    function recoverFile(pid){
        $("#fileform").attr("target", "");
        $("#fileform").attr("action", "/documentation/recover/" + pid);
        $("#fileform").submit();
    }
</script>

</html>